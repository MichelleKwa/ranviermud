- id: maintenanceauto
  keywords: ['maintenance', 'auto', 'automaton', 'robot']
  name: Maintenance Automaton
  level: 2
  description: "It is something akin to a six-'legged' spider, with two 'arms' consisting of a blowtorch and some kind of grappling device. On top of the middle of its torso is a dome, filled with an iridescent fluid. Steam billows from the many gaskets lining its underbelly like metallic ribs."
  behaviors:
    combat: true
    flavorevents:
      onSpawn: 'A spiderlike automaton crawls from an aperture in the ceiling and down one of the walls. The aperture whirrs shut behind it.'
      onItemDrop: 'The spiderlike automaton scuttles over to the %itemName% and prods it with a spiny leg.'  #eventually add scavenger behavior
    lootable: 
      resources: 
        scrap_metal:
          min: 1
          max: 5
        gear:
          min: 0
          max: 2
        piston:
          min: 0
          max: 1
      pools:
        - spire.intro:portalkey: 5
      currency:
        theans:
          min: 0
          max: 5
    ranvier-wander:
      interval: 30

    # TODO: add breeding behavior where if there are more than one
    # of an NPC in a room, there is a small chance they produce a clone?
  attributes:
    health: 130
    energy: 50
    focus: 50
    might: 5
    quickness: 5
    intellect: 2
    willpower: 1
    critical: 2
    armor: 4

- id: vendorauto
  keywords: ['vendor', 'automaton']
  name: Vending Automaton
  level: 9
  description: "This automaton is a hulking block with a glass front. It has two treads that it uses to get around, one on each side. It is filled with various goods. A funnel is jutting from one side of the machine, presumably for payment. A small tube juts from the lower front center of the automaton, for dispensing goods."
  skills: ['block']
  behaviors:
    combat: true
    # combat:
    #   vengeful: true # hunts down past attackers
    lootable: 
      resources: 
        scrap_metal:
          min: 5
          max: 15
        gear:
          min: 2
          max: 4
        piston:
          min: 1
          max: 4
      currency:
        theans:
          min: 5
          max: 500
      pools:
        - spire.intro:portalkey: 50
        - spire.labyrinth:jumpsuit: 20
        # Later add behavior for it to drop some/all of its goods.
        # Add shopkeep behavior
    ranvier-wander:
      interval: 45
  attributes:
    health: 420
    energy: 150
    focus: 50
    might: 20
    quickness: 3
    intellect: 3
    willpower: 1
    critical: 3
    armor: 10
  behaviors:
    ranvier-sentient: true
    vendor:
      items:
        "spire.intro:portalkey":
          cost: 100
          currency: theans
        "spire.intro:knapsack":
          cost: 35
          currency: theans
        "spire.intro:aetherrobe"
          cost: 350
          currency: theans
        "spire.labyrinth:leatherpants":
          cost: 100
          currency: theans
        "spire.labyrinth:jumpsuit":
          cost: 200
          currency: theans
        "spire.intro:tea":
          cost: 10
          currency: theans
        "spire.intro:elixir":
          cost: 100
          currency: theans
      enterMessage: "The vendor automaton emits a happy bloop."
      leaveMessage: "The vendor automaton emits a sad bloop, its lights dimming slightly."

- id: securityauto
  keywords: ['security', 'auto', 'flying']
  name: Flying Security Automaton
  level: 6
  description: "Shaped like a large bee, this drone flitters just overhead, its artificial eyes whirring in all directions. Its undercarriage features razor-sharp 'legs' and a small cannon."
  skills: ['dodge']
  behaviors:
    combat: true
    lootable: 
      resources: 
        scrap_metal:
          min: 1
          max: 3
        gear:
          min: 0
          max: 1
      currency:
        theans:
          min: 0
          max: 15
    ranvier-wander: 
      interval: 15
  attributes:
    health: 95
    energy: 100
    focus: 50
    might: 4
    quickness: 25
    intellect: 5
    willpower: 2
    critical: 5
    armor: 1
  metadata:
    minDamage: 5
    maxDamage: 20

- id: malfunctioningauto
  keywords: ['malfunctioning', 'malfunc', 'broken', 'automaton', 'flying']
  name: Flying Malfunctioning Automaton
  level: 4
  description: "Shaped like a large bee, this drone flitters just overhead, its artificial eyes whirring <red>erratically</red>. Its undercarriage features razor-sharp 'legs' and a small cannon."
  skills: ['dodge']
  behaviors:
    startquest: 
      questId: 'spire.intro:misbehavingautos'
    combat: true
    lootable: 
      resources: 
        scrap_metal:
          min: 1
          max: 2
      currency:
        theans:
          min: 0
          max: 5
    ranvier-wander: 
      interval: 20
      restrictTo: 
        - 'spire.intro:tube-chamber-22'
        - 'spire.intro:a-cold-hall-23'
        - 'spire.intro:a-cold-hall-24'
        - 'spire.intro:airlock-chamber-25'
        - 'spire.intro:tube-chamber-26'
        - 'spire.intro:a-cold-hall-27'
        - 'spire.intro:a-cold-hall-28'
        - 'spire.intro:a-cold-hall-29'
        - 'spire.intro:a-cold-hall-30'
    ranvier-aggro:
      warnMessage: '%name%''s metal wings whir as it turns to face you, its sensors flashing <red>red</red>.'
      attackMessage: '%name% hurtles towards you!'
      delay: 3
      towards:
        players: true
        npcs: ['spire.intro:vendorauto', 'spire.intro:securityauto', 'spire.intro:maintenanceauto']
  attributes:
    health: 105
    energy: 100
    focus: 50
    might: 6
    quickness: 20
    intellect: 3
    willpower: 1
    critical: 4
    armor: 1
  metadata:
    minDamage: 5
    maxDamage: 20
