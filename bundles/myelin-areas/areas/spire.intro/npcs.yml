- id: crawler
  keywords: ['crawler', 'automaton']
  name: Crawler
  level: 2
  description: "It is something akin to a six-'legged' spider, with two 'arms' consisting of a blowtorch and some kind of grappling device. On top of the middle of its torso is a dome, filled with an iridescent fluid. Steam billows from the many gaskets lining its underbelly like metallic ribs."
  behaviors:
    group:
      skill: 'machinist'
    skilled:
      skills: ['combust']
    combat:
      wimpy: 50
    resistance:
      fire: 75
      electrical: -75
      crushing: 10
      drowning: 95
    flavorevents:
      onSpawn: 'A spiderlike automaton crawls from an aperture in the ceiling and down one of the walls. The aperture whirrs shut behind it.'
      onItemDrop: 'The spiderlike automaton scuttles over to the %itemName% and prods it with a spiny leg.'  # TODO: eventually add scavenger behavior
    lootable: 
      resources: 
        scrap_metal:
          min: 1
          max: 5
        gear:
          min: 1
          max: 2
        piston:
          min: 1
          max: 1
        sparkdust:
          min: 1
          max: 1
      pools:
        - spire.intro:portalkey: 5
      currency:
        theans:
          min: 1
          max: 15
    ranvier-wander:
      interval: 30
    # TODO: add breeding behavior where if there are more than one
    # of an NPC in a room, there is a small chance they produce a clone?
  attributes:
    health: 90
    energy: 90
    focus: 250
    might: 5
    quickness: 5
    intellect: 9
    willpower: 1
    critical: 2
    armor: 4
  metadata:
    damageType: ['SLASHING']
    bleeds: 'oil'
    minDamage: 1
    maxDamage: 10

- id: vendorauto
  keywords: ['vendbot', 'bot', 'vendor', 'automaton']
  name: Vendbot
  level: 7
  description: "This automaton is a hulking block with a glass front. It has two treads that it uses to get around, one on each side. It is filled with various goods. A funnel is jutting from one side of the machine, presumably for payment. A small tube juts from the lower front center of the automaton, for dispensing goods."
  behaviors:
    combat: true
    skilled:
      skills: ['bash', 'block']
    # combat:
    #   vengeful: true # hunts down past attackers
    lootable: 
      resources: 
        scrap_metal:
          min: 5
          max: 150
        gear:
          min: 2
          max: 40
        piston:
          min: 1
          max: 40
      currency:
        theans:
          min: 1
          max: 500
      pools:
        - spire.intro:portalkey: 50
        - spire.labyrinth:jumpsuit: 20
        # Later add behavior for it to drop some/all of its goods.
        - spire.intro:tea: 100
        - spire.labyrinth:jumpsuit: 80
    resistance:
      fire: 75
      electrical: -75
      crushing: 50
      piercing: 60
      slashing: 70
      freezing: 25
    vendor:
      items:
        "spire.intro:portalkey":
          cost: 100
          currency: theans
        "spire.intro:knapsack":
          cost: 35
          currency: theans
        "spire.intro:aetherrobe":
          cost: 300
          currency: theans
        "spire.labyrinth:leatherpants":
          cost: 100
          currency: theans
        "spire.labyrinth:jumpsuit":
          cost: 250
          currency: theans
        "spire.intro:tea":
          cost: 10
          currency: theans
        "spire.intro:elixir":
          cost: 100
          currency: theans
        "spire.labyrinth:flashbomb":
          cost: 100
          currency: theans
        "spire.labyrinth:scrapbomb":
          cost: 200
          currency: theans
      enterMessage: "BEEP BOOP, MAKE A PURCHASE."
      leaveMessage: "BOOP WHIRR, COME BACK SOON."
    ranvier-wander:
      interval: 45
  attributes:
    health: 420
    energy: 250
    focus: 50
    might: 20
    quickness: 3
    intellect: 3
    willpower: 1
    critical: 3
    armor: 10
  metadata:
    bleeds: 'oil'
    minDamage: 15
    maxDamage: 50

- id: buzzard
  keywords: ['buzzard', 'buzz', 'security', 'auto', 'flying']
  name: Buzzard
  level: 6
  description: "Shaped like a large bee, this drone flitters just overhead, its artificial eyes whirring in all directions. Its undercarriage features razor-sharp 'legs' and a small cannon."
  behaviors:
    group: 
      quest: 'spire.intro:misbehavingautos'
      skill: 'machinist'
    combat: true
    resistance:
      fire: 75
      electrical: -75
      crushing: 20
      drowning: 95
    skilled:
      skills: ['dodge']
    lootable: 
      resources: 
        scrap_metal:
          min: 1
          max: 3
        gear:
          min: 1
          max: 1
      currency:
        theans:
          min: 1
          max: 30
    ranvier-wander: 
      interval: 15
  attributes:
    health: 65
    energy: 100
    focus: 50
    might: 4
    quickness: 10
    intellect: 5
    willpower: 2
    critical: 5
    armor: 1
  metadata:
    minDamage: 2
    maxDamage: 18
    damageType: ['PIERCING', 'SLASHING']
    bleeds: 'oil'

- id: malfunctioningbuzz
  keywords: ['malf', 'buzzard', 'buz', malfunctioning', 'malfunc', 'broken', 'automaton', 'flying']
  name: Malfunctioning Buzzard
  level: 3
  description: "Shaped like a large bee, this drone flitters just overhead, its artificial eyes whirring <red>erratically</red>. Its undercarriage features razor-sharp 'legs' and a small cannon."
  behaviors:
    resistance:
      fire: 50
      electrical: -75
      crushing: 15
      drowning: 80
    skilled:
      skills: ['dodge', 'rend']
    startquest: 
      questId: 'spire.intro:misbehavingautos'
    combat: true
    lootable: 
      resources: 
        scrap_metal:
          min: 1
          max: 2
      currency:
        theans:
          min: 3
          max: 35
    ranvier-wander: 
      interval: 20
      restrictTo: 
        - 'spire.intro:tube-chamber-22'
        - 'spire.intro:a-cold-hall-23'
        - 'spire.intro:a-cold-hall-24'
        - 'spire.intro:airlock-chamber-25'
        - 'spire.intro:tube-chamber-26'
        - 'spire.intro:a-cold-hall-27'
        - 'spire.intro:a-cold-hall-28'
        - 'spire.intro:a-cold-hall-29'
        - 'spire.intro:a-cold-hall-30'
    ranvier-aggro:
      warnMessage: '%name%''s metal wings whir as it turns to face you, its sensors flashing <red>red</red>.'
      attackMessage: '%name% hurtles towards you!'
      delay: 3
      towards:
        players: true
        npcs: ['spire.intro:vendorauto', 'spire.intro:crawler', 'spire.intro:buzzard']
  attributes:
    health: 35
    energy: 250
    focus: 50
    might: 6
    quickness: 10
    intellect: 3
    willpower: 1
    critical: 4
    armor: 1
  metadata:
    minDamage: 1
    maxDamage: 16
    damageType: ['PIERCING', 'SLASHING']
    bleeds: 'oil'
    attackVerb: 'razor'

